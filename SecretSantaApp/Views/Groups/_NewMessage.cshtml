@model GroupMessageEditModel
@{
  var uid = Guid.NewGuid();
  var containerid = $"divcontainerid-{uid}";
}

<div id="@containerid">
  @if (Model.Saved)
  {

    <p>you created the rule, we need to refresh the </p>

    <script>
      LoadChat();
      //LoadNewMessage();
      $('#modal-container').modal('hide');
    </script>
  }
  else
  {

    <div class="container col-lg-12 ControlBox" style="background-color: white">
      <div class="">
        <div class="" style="display:inline!important">
          <span> <img src="~/images/smRedSantaList.png" alt="Reindeer" class="img-responsive" style="display:inline!important"></span>

          @if (Model.ID >= 1)
          {
            <h3 class="text-center" style="color: green; display:inline!important">Edit Message: @Model.Message</h3>
          }
          else
          {
            <h3 class="text-center" style="color: green; display:inline!important">New @Model.GroupName Message!</h3>
          }
          
        </div>
        <div class="row col-xs-12 center-block RoundCornerBox" style="background-color: lightgray; padding-bottom:2%;">

          <form asp-action="SaveGroupMessage" method="POST"
                data-ajax="true"
                data-ajax-method="POST"
                data-ajax-mode="replace"
                data-ajax-update="#@containerid">

            <div class="form-group">
              <label class="control-label col-sm-3" asp-label-for="Message" for="rule">Message<em>*</em></label>
              <div class="col-sm-8 col-xs-12">
                <input type="text" asp-for="Message" placeholder="Message" required="" oninvalid="this.setCustomValidity('Please Enter A Message')" class="form-control" />
              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-8">
                <input type="submit" name="signin" id="signin" value="Submit" class="btn btn-default BtnGreen" />
              </div>
            </div>
            @Html.HiddenFor(x => x.ID)
            @Html.HiddenFor(x => x.GroupId)
            @Html.HiddenFor(x => x.InsertedBy)
          </form>
        </div>
      </div>

    </div>
  <!-- /.container -->
  }


</div>